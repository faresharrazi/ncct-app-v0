<div style="text-align: center; margin-bottom: 20px;">

<header style="background-color: #f8f9fa; padding: 10px;">
  <nav style="display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap;">
    <% @accounts.each do |account| %>
      <%= link_to account_path(account), 
                  style: "text-decoration: none; #{current_page?(account_path(account)) ? 'font-weight: bold; text-decoration: underline;' : ''}; padding: 10px 20px; border: 1px solid #ccc; border-radius: 5px; background-color: #f8f9fa; display: inline-block;" do %>
        <div style="text-align: center;">
          <strong><%= account.title %></strong><br>
          (<%= account.balance %>â‚¬) - <%= account.percentage %>%
        </div>
      <% end %>
    <% end %>
    <%= link_to "+", new_account_path, 
                style: "text-decoration: none; #{current_page?(new_account_path) ? 'font-weight: bold; text-decoration: underline;' : ''}; padding: 10px 20px; border: 1px solid #ccc; border-radius: 5px; background-color: #f8f9fa; display: inline-block;" %>
  </nav>
</header>
</div>

<h4>Editing account</h4>

<%= render "form", account: @account %>

<div>
  <%= link_to "Delete account", @account, 
              method: :delete, 
              data: { turbo_confirm: "Are you sure you want to delete this account?" }, 
              style: "display: inline-block; text-decoration: none; font-weight: bold; padding: 10px 20px; border: 1px solid #dc3545; border-radius: 5px; background-color: #dc3545; color: white;" %>
</div>

<hr>

<h4>Categories</h4>

<!-- Table for Categories -->
<% if @categories.any? %>
  <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
    <thead style="background-color: #f8f9fa;">
      <tr>
        <th style="border: 1px solid #ccc; padding: 10px;">Name</th>
        <th style="border: 1px solid #ccc; padding: 10px; text-align: center;">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @categories.each do |category| %>
        <tr id="<%= dom_id(category) %>">
          <td style="border: 1px solid #ccc; padding: 10px;"><%= category.name %></td>
          <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">
            <!-- Edit Link -->
            <%= link_to "Edit", edit_category_path(category), 
                        style: "text-decoration: none; padding: 5px 10px; border: 1px solid #007bff; border-radius: 5px; background-color: #007bff; color: white; margin-right: 5px;" %>
            <!-- Delete Button -->
            <%= button_to "X", category, method: :delete, 
                          data: { turbo_confirm: "Are you sure you want to delete this category?" }, 
                          style: "text-decoration: none; padding: 5px 10px; border: 1px solid #dc3545; border-radius: 5px; background-color: #dc3545; color: white;" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p style="text-align: center; font-size: 1.2em; color: #555;">
    No categories have been added yet.
  </p>
<% end %>

<hr>

<!-- Form to Add New Category -->
<h4>Add New Category</h4>
<%= form_with(model: @new_category, url: categories_path, local: true) do |f| %>
  <div style="margin-bottom: 15px;">
    <%= f.label :name, "Category Name", style: "display: block; font-weight: bold;" %>
    <%= f.text_field :name, style: "width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;" %>
  </div>
  <%= f.hidden_field :account_id, value: @account.id %>
  <div style="text-align: center;">
    <%= f.submit "Add Category", 
                 style: "padding: 10px 20px; border: 1px solid #007bff; border-radius: 5px; background-color: #007bff; color: white; font-weight: bold;" %>
  </div>
<% end %>
